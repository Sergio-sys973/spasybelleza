{"version":3,"sources":["app.js"],"names":["paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","document","addEventListener","iniciarApp","mostrarSeccion","tabs","botonesPaginador","paginaSiguiente","paginaAnterior","consultarAPI","idCliente","nombreCliente","seleccionarFecha","seleccionarHora","mostrarResumen","seccionAnterior","querySelector","classList","remove","pasoSelector","seccion","add","tabAnterior","tab","botones","querySelectorAll","forEach","boton","e","parseInt","target","dataset","url","fetch","resultado","json","mostrarServicios","console","log","servicio","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","divServicio","some","agregado","filter","value","inputFecha","dia","Date","getUTCDay","includes","mostrarAlerta","inputHora","horaCita","split","mensaje","tipo","elemento","desaparece","alertaPrevia","alerta","referencia","setTimeout","resumen","firstChild","removeChild","Object","values","length","headingServicios","contenedorServicio","textoServicio","innerHTML","headingCita","fechaObj","mes","getMonth","getDate","year","getFullYear","fechaUTC","UTC","opciones","weekday","month","day","fechaFormateada","toLocaleDateString","fechaCita","botonReservar","reservarCita","idServicios","map","datos","FormData","append","method","body","respuesta","Swal","fire","icon","title","text","button","then","window","location","reload"],"mappings":"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","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n    id: '',\r\n    nombre: '',\r\n    fecha: '',\r\n    hora: '',\r\n    servicios: []\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n   mostrarSeccion();  //Muestra y oculta la seccion\r\n   tabs(); // Cambia la seccion cuando se presionen los tabs\r\n   botonesPaginador(); // Agrega o quita los botones del paginador\r\n   paginaSiguiente();\r\n   paginaAnterior();\r\n\r\n   consultarAPI(); // Consulta la API en el backend de PHP\r\n\r\n   idCliente(); //Añade el id del Cliente al objeto de cita.\r\n   nombreCliente(); // Añade el nombre del Cliente al objeto de cita.\r\n   seleccionarFecha() ; // Añade la fecha de la cita en el objeto.\r\n   seleccionarHora(); //Añade la hora de la cita en el objeto\r\n   mostrarResumen(); // Muestra el Resumen de la Cita.  \r\n}\r\n\r\nfunction mostrarSeccion() {\r\n\r\n    // Ocultar la seccion que tenga la clase de mostrar\r\n    const seccionAnterior = document.querySelector('.mostrar');\r\n    if(seccionAnterior) {\r\n        seccionAnterior.classList.remove('mostrar');\r\n    }\r\n\r\n    // Seleccionar la Seccion con el paso...\r\n    const pasoSelector = `#paso-${paso}`;\r\n    const seccion = document.querySelector(pasoSelector);\r\n    seccion.classList.add('mostrar');\r\n\r\n    // Quita la  clase actual al tab anterior\r\n    const tabAnterior = document.querySelector('.actual');\r\n    if (tabAnterior) {\r\n        tabAnterior.classList.remove('actual');\r\n    }\r\n\r\n    // Resalta el tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n    tab.classList.add('actual');\r\n   }\r\n\r\nfunction tabs() {\r\n\r\n    // Agrega y cambia la variable de paso segun el tab seleccionado\r\n    const botones = document.querySelectorAll('.tabs button');    \r\n    botones.forEach(boton => {\r\n        boton.addEventListener('click', function(e) {\r\n           paso = parseInt( e.target.dataset.paso);\r\n\r\n            mostrarSeccion();\r\n\r\n            botonesPaginador();\r\n        });\r\n    });         \r\n }\r\n   \r\nfunction botonesPaginador () {\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    if(paso === 1) {\r\n        paginaAnterior.classList.add('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    } else if(paso === 3) {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.add('ocultar');\r\n        mostrarResumen();\r\n    } else {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    }\r\n\r\n    mostrarSeccion();\r\n}\r\n\r\nfunction paginaAnterior() {\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    paginaAnterior.addEventListener('click', function()  {\r\n\r\n        if(paso <= pasoInicial) return;   \r\n        paso--;        \r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\nfunction paginaSiguiente() {\r\n\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    paginaSiguiente.addEventListener('click', function()  {\r\n\r\n        if(paso >= pasoFinal) return;\r\n        paso++;      \r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\nasync function consultarAPI() {\r\n\r\n    try {\r\n\r\n        //const url = 'http://localhost:3000/api/servicios';\r\n        const url = '/api/servicios';\r\n        const resultado = await fetch(url);\r\n        const servicios = await resultado.json();           \r\n           mostrarServicios(servicios);\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction mostrarServicios(servicios) {\r\n    servicios.forEach(servicio => {\r\n        const { id, nombre, precio } = servicio;\r\n\r\n        const nombreServicio = document.createElement('P');\r\n        nombreServicio.classList.add('nombre-servicio');\r\n        nombreServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.classList.add('precio-servicio');\r\n        precioServicio.textContent = `$ ${precio}`;\r\n\r\n        const servicioDiv = document.createElement('DIV');\r\n        servicioDiv.classList.add('servicio');\r\n        servicioDiv.dataset.idServicio = id;\r\n        servicioDiv.onclick = function() {\r\n           seleccionarServicio(servicio);\r\n        }\r\n        servicioDiv.appendChild(nombreServicio);\r\n        servicioDiv.appendChild(precioServicio);\r\n                        \r\n        document.querySelector('#servicios').appendChild(servicioDiv);\r\n    });    \r\n}\r\n\r\nfunction seleccionarServicio(servicio) {\r\n    const { id }  = servicio;\r\n    const { servicios } = cita;\r\n\r\n    // Identificar el elemento que se la da click\r\n    const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n    // Comprobar si un servicio ya fue agregado\r\n\r\n    if( servicios.some( agregado => agregado.id === id ) ) {\r\n        // Eliminarlo\r\n        cita.servicios = servicios.filter( agregado => agregado.id !== id);\r\n        divServicio.classList.remove('seleccionado');\r\n    } else {\r\n        // Agregarlo\r\n        cita.servicios = [...servicios, servicio];\r\n        divServicio.classList.add('seleccionado');\r\n    }\r\n          //  console.log(cita);\r\n}\r\n\r\nfunction idCliente() {\r\n    cita.id = document.querySelector('#id').value;          \r\n}\r\n function nombreCliente() {\r\n    cita.nombre = document.querySelector('#nombre').value;          \r\n }\r\n\r\nfunction seleccionarFecha() {\r\n\r\n   const inputFecha = document.querySelector('#fecha');\r\n   inputFecha.addEventListener('input', function(e) {\r\n        \r\n       const dia = new Date(e.target.value).getUTCDay();\r\n        \r\n       if( [0].includes(dia)) {\r\n        e.target.value = '';\r\n       \r\n       mostrarAlerta('Fines de Semana No Permitidos', 'error', '.formulario');\r\n       }else {\r\n            cita.fecha = e.target.value;\r\n       }        \r\n   });\r\n}\r\n\r\nfunction seleccionarHora() {\r\n    const inputHora = document.querySelector('#hora');\r\n     inputHora.addEventListener('input', function(e) {\r\n\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(\":\") [0];\r\n        if(hora < 10 || hora > 21) {\r\n            e.target.value = '';\r\n            mostrarAlerta('Hora No Valida', 'error', '.formulario');\r\n        } else {\r\n           cita.hora = e.target.value;\r\n\r\n           console.log(cita);\r\n        }    \r\n    })\r\n }\r\n\r\n function mostrarAlerta(mensaje, tipo, elemento, desaparece = true) {\r\n    // Previene que se genere mas de un alerta\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if(alertaPrevia) {\r\n        alertaPrevia.remove();\r\n    } \r\n\r\n    //Scripting para crear la alerta\r\n    const alerta = document.createElement('DIV');\r\n    alerta.textContent = mensaje\r\n    alerta.classList.add('alerta');\r\n    alerta.classList.add(tipo);\r\n\r\n    const referencia = document.querySelector(elemento);\r\n    referencia.appendChild(alerta);\r\n   \r\n    if(desaparece) {\r\n\r\n    // Eliminar la alerta\r\n    setTimeout(() => {\r\n        alerta.remove();\r\n     },3000);   \r\n    }\r\n }\r\n\r\n function mostrarResumen() {\r\n    const resumen = document.querySelector('.contenido-resumen');\r\n\r\n    // Limpiar el contenido de Reumen\r\n    while(resumen.firstChild) {\r\n        resumen.removeChild(resumen.firstChild);\r\n    }\r\n   \r\n    if ( Object.values(cita).includes('') || cita.servicios.length === 0 ) {\r\n        mostrarAlerta('Faltan datos de Servicios, fecha u Hora', 'error', '.contenido-resumen', false);\r\n   \r\n       return;\r\n    } \r\n\r\n    // Formatear el div de resumen\r\n    const { nombre, fecha, hora, servicios} = cita;\r\n  \r\n    // Heading para Servicios en Resumen\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'RESUMEN DE SERVICIOS';\r\n\r\n    resumen.appendChild(headingServicios);\r\n\r\n    // Iterando y Mostrando los Servicios\r\n    servicios.forEach(servicio => {\r\n        const { id, precio, nombre} = servicio;\r\n \r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P') ;\r\n        textoServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P') ;\r\n        precioServicio.innerHTML =  `<span>Precio:</span> $${precio} `;\r\n\r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n\r\n        resumen.appendChild(contenedorServicio);\r\n    })\r\n\r\n     // Heading para Cita en Resumen\r\n     const headingCita = document.createElement('H3');\r\n     headingCita.textContent = 'Resumen de Cita'; \r\n     resumen.appendChild(headingCita);\r\n\r\n         const nombreCliente = document.createElement('P');\r\n         nombreCliente.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n         // Formatear la Fecha en Español\r\n         const fechaObj = new Date(fecha);\r\n         const mes = fechaObj.getMonth();\r\n         const dia = fechaObj.getDate() + 2;\r\n         const year = fechaObj.getFullYear();\r\n\r\n         const fechaUTC = new Date(Date.UTC(year, mes, dia));\r\n\r\n         const opciones = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'}\r\n         const fechaFormateada = fechaUTC.toLocaleDateString('es-MX', opciones);\r\n         \r\n         const fechaCita = document.createElement('P');\r\n         fechaCita.innerHTML = `<span>Fecha:</span> ${fechaFormateada}`;\r\n\r\n         console.log(cita);\r\n\r\n         const horaCita = document.createElement('P');\r\n         horaCita.innerHTML = `<span>Hora:</span> ${hora} Horas`;\r\n\r\n    // Boton para Crear una Cita\r\n    const botonReservar = document.createElement('BUTTON');\r\n    botonReservar.classList.add('boton');\r\n    botonReservar.textContent = 'Reservar Cita';\r\n    botonReservar.onclick = reservarCita;    \r\n\r\n    resumen.appendChild(nombreCliente);\r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n\r\n    resumen.appendChild(botonReservar);\r\n\r\n }\r\n\r\n async function reservarCita() {\r\n\r\n   const { nombre, fecha, hora, servicios, id } = cita;\r\n\r\n    const idServicios = servicios.map(servicio => servicio.id);\r\n\r\n    // console.log(idSservicios);\r\n\r\n   const datos = new FormData();\r\n   datos.append('fecha', fecha);\r\n   datos.append('hora', hora);\r\n   datos.append('usuarioId', id);\r\n   datos.append('servicios', idServicios); \r\n   \r\n     // console.log([...datos]);\r\n   \r\n    try {\r\n         //Peticion hacia la API\r\n\r\n        const url ='/api/citas'\r\n\r\n        const respuesta = await fetch(url, {\r\n                method: 'POST',\r\n                body: datos\r\n        });\r\n\r\n        const resultado = await respuesta.json();\r\n        console.log(resultado.resultado);\r\n\r\n       console.log(resultado);\r\n\r\n        if(resultado.resultado) {\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Cita Creada\",\r\n                text: \"Tu Cita fue Creada Correctamente\",\r\n                button: 'OK'\r\n            }).then( () => {\r\n                    setTimeout(()=> {\r\n                        window.location.reload();\r\n                    }, 3000);              \r\n            }) \r\n        }\r\n\r\n    } catch (error) {\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"Hubo un Error al guardar la Cita\",            \r\n          });\r\n    }\r\n\r\n   \r\n      //  console.log([...datos]);\r\n\r\n }\r\n"],"file":"app.dev.js"}