{"version":3,"sources":["app.js"],"names":["paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","iniciarApp","botonesPaginador","document","consultarAPI","mostrarSeccion","nombreCliente","tabs","seleccionarHora","paginaAnterior","idCliente","querySelector","seccionAnterior","classList","remove","concat","pasoSelector","mostrarResumen","add","tabAnterior","seccion","forEach","boton","e","dataset","botones","querySelectorAll","parseInt","paginaSiguiente","addEventListener","resultado","regeneratorRuntime","async","_context","prev","next","awrap","fetch","sent","json","t0","console","log","stop","mostrarServicios","url","servicio","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","agregado","value","seleccionarFecha","divServicio","getUTCDay","includes","dia","target","mostrarAlerta","split","mensaje","desaparece","arguments","length","undefined","alertaPrevia","alerta","tipo","elemento","horaCita","resumen","firstChild","values","headingServicios","setTimeout","removeChild","Object","contenedorServicio","textoServicio","headingCita","innerHTML","fechaObj","mes","month","day","fechaCita","fechaFormateada","botonReservar","getMonth","getFullYear","Date","weekday","year","datos","FormData","append","idServicios","method","body","Swal","fire","icon","title","text","window","location","reload"],"mappings":"8dAAA,IAAIA,KAAO,EACLC,YAAc,EACdC,UAAY,EAEZC,KAAO,CACTC,GAAI,GACJC,OAAQ,GACRC,MAAO,GACPC,KAAM,GACNC,UAAW,IAFXF,SAAOG,aACPF,iBACAC,OALJE,mBAQAC,kBACIF,iBAUDG,eANAC,YASAC,gBARAC,mBAUAC,kBATAN,iBAEAO,SAAAA,iBAIAC,IAAAA,EAAaP,SAAAQ,cAAA,YAWTC,GAVJN,EAAiBO,UAAAC,OAAA,WAEjBN,IAAAA,EAAmB,SAAAO,OAAAvB,MAcFW,SAASQ,cAAcK,GAbxCC,UAAkBC,IAAA,WAGrB,IAASb,EAATF,SAA0BQ,cAAA,WAEtBQ,GACMP,EAAAA,UAAkBT,OAASQ,UAKjCR,SAAAQ,cAAA,eAAAI,OAAAvB,KAAA,OAaIqB,UAAUK,IAAI,UAXlB,SAAME,OAIcjB,SAASQ,iBAAc,gBAcnCU,QAAQ,SAAAC,GAbZH,EAAAA,iBAAa,QAAA,SAAAI,GACbJ,KAAYN,SAAUC,EAAAA,OAAOU,QAA7BhC,MAgBIa,iBAZIF,uBAMZ,SAAAD,mBACA,IAAMuB,EAAmBC,SAAAA,cAAiB,aAClCL,EAAQC,SAASX,cAAA,cAEXgB,IAAPnC,MAECa,EAAcQ,UAAAK,IAAA,WAEdhB,EAAgBW,UAAAC,OAAA,YALpB,IAAAtB,MADJiB,EAAAI,UAAAC,OAAA,WASFc,EAAAf,UAAAK,IAAA,WAYMD,mBATER,EAAiBN,UAASQ,OAAAA,WAC1BiB,EAAkBzB,UAASQ,OAAAA,YAG7BF,iBAGAA,SAAAA,iBACgBI,SAAcF,cAA9B,aACckB,iBAAA,QAAA,WAEdpB,MAAeI,cACfe,OACH1B,sBAeL,SAAS0B,kBATkBzB,SAASQ,cAAc,cAC/BkB,iBAAiB,QAAS,WAGjCnC,WAAAF,OACJU,OAJJA,sBAUA,SAAM0B,eAAN,IAAAE,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EACA,iBADAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAOHC,MANG,mBADA,KAAA,EAAA,OAOHP,EAPGG,EAAAK,KAAAL,EAAAE,KAAA,EAAAJ,mBAAAK,MAgB4BN,EAAUS,QAhBtC,KAAA,EASWnC,iBATX6B,EAAAK,MAAAL,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,MAAA,GASJQ,QAAAC,IAAAT,EAAAO,IATI,KAAA,GAAA,IAAA,MAAA,OAAAP,EAAAU,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MAaI,SAAAC,iBAAA5C,GACM6C,EALdxB,QAKoB,SAAAyB,GALpB,IAAAlD,EAAAkD,EAAAlD,GAAAC,EAAAiD,EAAAjD,OAAAkD,EAAAD,EAAAC,OAmBcC,EAAiB7C,SAAS8C,cAAc,KAnBtDD,EAAAnC,UAAAK,IAAA,mBAMcY,EANdoB,YAAArD,EAAA,IAAAsD,EAAAhD,SAAA8C,cAO0CV,KAiBlCY,EAAetC,UAAUK,IAAI,mBAxBrCiC,EAAAD,YAAA,KAAAnC,OAAAgC,GAQWH,IAAAA,EAAiB5C,SAAjBiD,cAAA,OARXG,EAAAvC,UAAAK,IAAA,YAAAkC,EAAA5B,QAAA6B,WAAAzD,EA8BQwD,EAAYE,QAAU,WA9B9BC,oBAAAT,IAAAM,EAAAI,YAAAR,GAWQP,EAAQC,YAARS,GAXRhD,SAAAQ,cAAA,cAAA6C,YAAAJ,KAAA,SAAAG,oBAAAT,GAAA,IAAAlD,EAAAkD,EAAAlD,GAAAI,EAAAL,KAAAK,UAgBIA,EAAkBG,SAAA2C,cAAA,sBAAA/B,OAAYnB,EAAZ,OAGRoD,EAAAA,KAAc,SAAAS,GAAGtD,OAAS8C,EAAAA,KAAhCrD,KAEAoD,KAAAA,UAAeE,EAAcrD,OAA7B,SAAA4D,GAAA,OAAAA,EAAA7D,KAAAA,IAEMuD,EAAAA,UAAiBhD,OAAS8C,kBAI1BG,KAAAA,UAAAA,GAAAA,OAAAA,mBAAcjD,GAAdiD,CAAuBH,IAC7BG,EAAYvC,UAAcK,IAAA,iBAIzB,SAFDR,YAgCJf,KAAKC,GAAKO,SAASQ,cAAc,OAAO+C,MA5BpCN,SAAAA,gBAEAjD,KAAAA,OAASQ,SAAcA,cAAc6C,WAArCE,MAgCR,SAASC,mBA5B8BxD,SAAAQ,cAAA,UAE3BX,iBAAAA,QAER,SAAAuB,GACMqC,IAAAA,EAAW,IAAGzD,KAAQoB,EAACZ,OAAAA,OAATkD,YAIhB7D,CAAAA,GAAS8D,SAAOC,IAAQxC,EAAAyC,OAAIP,MAAA,GAC5BQ,cAAA,gCAAA,QAAA,gBAC2CtE,KAAI8D,MAAAlC,EAAAyC,OAAJN,QAI3C/D,SAAKK,kBACOa,SAAcF,cAA1B,SAEEkB,iBAAA,QAAA,SAAAN,GACT,IA+BaxB,EA/BbwB,EAAAyC,OAAAN,MA+B6BQ,MAAM,KAAM,GA7BjCxD,EAAT,IAAqB,GAAAX,GACPI,EAAAA,OAASQ,MAAAA,GACtBsD,cAAA,iBAAA,QAAA,iBACS3D,KAAAA,KAATiB,EAAyByC,OAAAN,MAExBjB,QAAAC,IAAA/C,SAOK,SAAMoE,cAAgBI,EAAQT,EAAOG,GAArC,IAAYO,IAAZ,EAAAC,UAAAC,aAAAC,IAAAF,UAAA,KAAAA,UAAA,GAEIG,EAAJrE,SAAuBQ,cAAA,WACrB6D,GAEFP,EAAcnD,SAPlB,IAAA2D,EAAAtE,SAAA8C,cAAA,OAYFwB,EAAAvB,YAAAiB,EA6BGM,EAAO5D,UAAUK,IAAI,UA3BzBuD,EAASjE,UAAAA,IAATkE,GAEe7C,SAAiBlB,cAASgE,GAE3BC,YAAWH,GA6BlBL,GAzBKH,WAAAA,WAFJQ,EAGO3D,UACJnB,KAKT,SAAAsB,iBAGE,IAyBA,IAAM4D,EAAU1E,SAASQ,cAAc,sBAzBvCkE,EAAAC,YACMN,EAAAA,YAAerE,EAASQ,YAE1B6D,GAAAA,OAAYO,OAAZpF,MAAAmE,SAAA,KAAA,IAAAnE,KAAAK,UAAAsE,OAGJL,cAAA,0CAAA,QAAA,sBAAA,OAHIO,CANN,IAaS3D,EAAPlB,KAAOkB,OAAUK,EAAjBvB,KAAiBuB,MAAjBnB,EAAAJ,KAAAI,KAAAC,EAAAL,KAAAK,UAgCMgF,EAAmB7E,SAAS8C,cAAc,MA3BhD+B,EAAe9B,YAAA,uBAGf+B,EAAAA,YAAWD,GAGVhF,EAAAqB,QAAA,SAAAyB,GACHA,EAAAlD,GADG,IACHmD,EAAAD,EAAAC,OAAAlD,EAAAiD,EAAAjD,OAEQoB,EAAiBd,SAAA8C,cAAA,OACjB4B,EAAmBlE,UAAAA,IAAc,uBAGvC,IAAMkE,EAAoB1E,SAAA8C,cAAA,KACtB4B,EAAQK,YAAoBJ,EA4B5B,IAAM3B,EAAiBhD,SAAS8C,cAAc,KAzB7CkC,EAAcxF,UAAdwF,yBAAAA,OAAmDb,EAAnDa,KAGFC,EAAA5B,YAAA6B,GAGHD,EAAA5B,YAAAL,GACQtD,EAAkCF,YAfnByF,KA4CtB,IAAME,EAAcnF,SAAS8C,cAAc,MA1B5CqC,EAAMN,YAAmB7E,kBACzB6E,EAAAA,YAAiB9B,GA6BZ,IAAM5C,EAAgBH,SAAS8C,cAAc,KAxBlDjD,EAAkBuF,UAAlBvF,wBAAAA,OAA8BH,GACNA,IADM2F,EACN3F,IAAAA,KADMC,GAGpBsF,EAAAA,EAAqBjF,WAC3BiF,EAAAA,EAAmBvE,UAAc,EAE3BwE,EAAaG,EAAGrF,cAOtBiF,EAJuBjF,IAAAA,KAAS8C,KAAAA,IAAAA,EAAcwC,EAA9C1B,IAI+BZ,mBAA/B,QADmBK,CAAAA,QAAY6B,OAAAA,KAA/B,UAAAK,MAAA,OAAAC,IAAA,YAOHC,EAAAzF,SAAA8C,cAAA,KAoBI2C,EAAUL,UAAV,uBAAAxE,OAA6C8E,GAlBjDP,QAAYpC,IAAAA,MAGF5C,IAAAA,EAAgBH,SAAS8C,cAA/B,KACA3C,EAAciF,UAAdjF,sBAAAA,OAAAP,EAAAO,UAIA,IAASwF,EAAYC,SAArB9C,cAAA,UACA6C,EAAYN,UAAAtE,IAAA,SACZ4E,EAAaN,YAASQ,gBAEtBF,EAAiBxC,QAAS2C,aAERC,EAAO1C,YAARlD,GAAkB6F,EAAM3C,YAAxBoC,GAAmCF,EAAOlC,YAA1CoB,GAAjBC,EAAArB,YAAAsC,IAMArD,SAAY9C,eAAZ8C,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,OAGA9C,KAAS4F,OAAAA,EAAT5F,KAAS4F,MAATxF,EAAAJ,KAAAI,KAAAC,EAAAL,KAAAK,UAAAJ,EAAAD,KAAAC,GAGCkG,EAAgB3F,EAAS8C,IAAAA,SAAAA,GAAc,OAAAH,EAA7ClD,MAKOwG,EAAC5C,IAAR6C,UACOC,OAAC9C,QAAYoC,GACpBf,EAAOyB,OAAC9C,OAAYoB,GAEpBC,EAAOyB,OAAC9C,YAAYsC,GAEtBM,EAAAE,OAAA,YAAAC,GAjBO9D,EAAAA,KAAAA,EAmBR,aAnBQA,EAAAA,KAAAA,GAAAA,mBAAAA,MAuBezC,MAJvB,aAIqC,CAAQwG,OAAI1D,OAE9C2D,KAAAL,KAzBK3D,KAAAA,GAAAA,OAuBC8D,EAvBD9D,EAAAA,KAAAA,EAAAA,KAAAA,GAAAA,mBAAAA,MA4BgB3C,EAAtByC,QA5BME,KAAAA,GA4BN2D,EA5BM3D,EAAAA,KA6BN2D,QAAME,IAAAA,EAANxE,WAEAsE,QAAK1D,IAAC4D,GAZRxE,EAAAA,WAiBQ4E,KAAAC,KAAA,CAEUC,KAAA,UAnBlBC,MAAA,cAAAC,KAAA,mCAsBeN,OAAQ,OACRC,KAAML,WAvBrBnB,WAAA,WAuCuB8B,OAAOC,SAASC,UAvCvC,OAnBQxE,EAAAA,KAAAA,GAAAA,MAAAA,KAAAA,GAAAA,EAAAA,KAAAA,GAAAA,EAAAA,GAAAA,EAAAA,MAAAA,GAmBRiE,KAAAC,KAAA,CA0Ba7E,KAAAA,QACNW,MAAQC,QAETD,KAAQC,qCAhDND,KAAAA,GAAAA,IAAAA,MAAAA,OAAAA,EAAAA,SAAAA,KAAAA,KAAAA,CAAAA,CAAAA,EAAAA,MA7STtC,SAAMT,iBAAN,mBAAA,WAEMC","file":"app.min.js","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n    id: '',\r\n    nombre: '',\r\n    fecha: '',\r\n    hora: '',\r\n    servicios: []\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n   mostrarSeccion();  //Muestra y oculta la seccion\r\n   tabs(); // Cambia la seccion cuando se presionen los tabs\r\n   botonesPaginador(); // Agrega o quita los botones del paginador\r\n   paginaSiguiente();\r\n   paginaAnterior();\r\n\r\n   consultarAPI(); // Consulta la API en el backend de PHP\r\n\r\n   idCliente(); //Añade el id del Cliente al objeto de cita.\r\n   nombreCliente(); // Añade el nombre del Cliente al objeto de cita.\r\n   seleccionarFecha() ; // Añade la fecha de la cita en el objeto.\r\n   seleccionarHora(); //Añade la hora de la cita en el objeto\r\n   mostrarResumen(); // Muestra el Resumen de la Cita.  \r\n}\r\n\r\nfunction mostrarSeccion() {\r\n\r\n    // Ocultar la seccion que tenga la clase de mostrar\r\n    const seccionAnterior = document.querySelector('.mostrar');\r\n    if(seccionAnterior) {\r\n        seccionAnterior.classList.remove('mostrar');\r\n    }\r\n\r\n    // Seleccionar la Seccion con el paso...\r\n    const pasoSelector = `#paso-${paso}`;\r\n    const seccion = document.querySelector(pasoSelector);\r\n    seccion.classList.add('mostrar');\r\n\r\n    // Quita la  clase actual al tab anterior\r\n    const tabAnterior = document.querySelector('.actual');\r\n    if (tabAnterior) {\r\n        tabAnterior.classList.remove('actual');\r\n    }\r\n\r\n    // Resalta el tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n    tab.classList.add('actual');\r\n   }\r\n\r\nfunction tabs() {\r\n\r\n    // Agrega y cambia la variable de paso segun el tab seleccionado\r\n    const botones = document.querySelectorAll('.tabs button');    \r\n    botones.forEach(boton => {\r\n        boton.addEventListener('click', function(e) {\r\n           paso = parseInt( e.target.dataset.paso);\r\n\r\n            mostrarSeccion();\r\n\r\n            botonesPaginador();\r\n        });\r\n    });         \r\n }\r\n   \r\nfunction botonesPaginador () {\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    if(paso === 1) {\r\n        paginaAnterior.classList.add('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    } else if(paso === 3) {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.add('ocultar');\r\n        mostrarResumen();\r\n    } else {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    }\r\n\r\n    mostrarSeccion();\r\n}\r\n\r\nfunction paginaAnterior() {\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    paginaAnterior.addEventListener('click', function()  {\r\n\r\n        if(paso <= pasoInicial) return;   \r\n        paso--;        \r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\nfunction paginaSiguiente() {\r\n\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    paginaSiguiente.addEventListener('click', function()  {\r\n\r\n        if(paso >= pasoFinal) return;\r\n        paso++;      \r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\nasync function consultarAPI() {\r\n\r\n    try {\r\n\r\n        //const url = 'http://localhost:3000/api/servicios';\r\n        const url = '/api/servicios';\r\n        const resultado = await fetch(url);\r\n        const servicios = await resultado.json();           \r\n           mostrarServicios(servicios);\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction mostrarServicios(servicios) {\r\n    servicios.forEach(servicio => {\r\n        const { id, nombre, precio } = servicio;\r\n\r\n        const nombreServicio = document.createElement('P');\r\n        nombreServicio.classList.add('nombre-servicio');\r\n        nombreServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.classList.add('precio-servicio');\r\n        precioServicio.textContent = `$ ${precio}`;\r\n\r\n        const servicioDiv = document.createElement('DIV');\r\n        servicioDiv.classList.add('servicio');\r\n        servicioDiv.dataset.idServicio = id;\r\n        servicioDiv.onclick = function() {\r\n           seleccionarServicio(servicio);\r\n        }\r\n        servicioDiv.appendChild(nombreServicio);\r\n        servicioDiv.appendChild(precioServicio);\r\n                        \r\n        document.querySelector('#servicios').appendChild(servicioDiv);\r\n    });    \r\n}\r\n\r\nfunction seleccionarServicio(servicio) {\r\n    const { id }  = servicio;\r\n    const { servicios } = cita;\r\n\r\n    // Identificar el elemento que se la da click\r\n    const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n    // Comprobar si un servicio ya fue agregado\r\n\r\n    if( servicios.some( agregado => agregado.id === id ) ) {\r\n        // Eliminarlo\r\n        cita.servicios = servicios.filter( agregado => agregado.id !== id);\r\n        divServicio.classList.remove('seleccionado');\r\n    } else {\r\n        // Agregarlo\r\n        cita.servicios = [...servicios, servicio];\r\n        divServicio.classList.add('seleccionado');\r\n    }\r\n          //  console.log(cita);\r\n}\r\n\r\nfunction idCliente() {\r\n    cita.id = document.querySelector('#id').value;          \r\n}\r\n function nombreCliente() {\r\n    cita.nombre = document.querySelector('#nombre').value;          \r\n }\r\n\r\nfunction seleccionarFecha() {\r\n\r\n   const inputFecha = document.querySelector('#fecha');\r\n   inputFecha.addEventListener('input', function(e) {\r\n        \r\n       const dia = new Date(e.target.value).getUTCDay();\r\n        \r\n       if( [0].includes(dia)) {\r\n        e.target.value = '';\r\n       \r\n       mostrarAlerta('Fines de Semana No Permitidos', 'error', '.formulario');\r\n       }else {\r\n            cita.fecha = e.target.value;\r\n       }        \r\n   });\r\n}\r\n\r\nfunction seleccionarHora() {\r\n    const inputHora = document.querySelector('#hora');\r\n     inputHora.addEventListener('input', function(e) {\r\n\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(\":\") [0];\r\n        if(hora < 10 || hora > 21) {\r\n            e.target.value = '';\r\n            mostrarAlerta('Hora No Valida', 'error', '.formulario');\r\n        } else {\r\n           cita.hora = e.target.value;\r\n\r\n           console.log(cita);\r\n        }    \r\n    })\r\n }\r\n\r\n function mostrarAlerta(mensaje, tipo, elemento, desaparece = true) {\r\n    // Previene que se genere mas de un alerta\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if(alertaPrevia) {\r\n        alertaPrevia.remove();\r\n    } \r\n\r\n    //Scripting para crear la alerta\r\n    const alerta = document.createElement('DIV');\r\n    alerta.textContent = mensaje\r\n    alerta.classList.add('alerta');\r\n    alerta.classList.add(tipo);\r\n\r\n    const referencia = document.querySelector(elemento);\r\n    referencia.appendChild(alerta);\r\n   \r\n    if(desaparece) {\r\n\r\n    // Eliminar la alerta\r\n    setTimeout(() => {\r\n        alerta.remove();\r\n     },3000);   \r\n    }\r\n }\r\n\r\n function mostrarResumen() {\r\n    const resumen = document.querySelector('.contenido-resumen');\r\n\r\n    // Limpiar el contenido de Reumen\r\n    while(resumen.firstChild) {\r\n        resumen.removeChild(resumen.firstChild);\r\n    }\r\n   \r\n    if ( Object.values(cita).includes('') || cita.servicios.length === 0 ) {\r\n        mostrarAlerta('Faltan datos de Servicios, fecha u Hora', 'error', '.contenido-resumen', false);\r\n   \r\n       return;\r\n    } \r\n\r\n    // Formatear el div de resumen\r\n    const { nombre, fecha, hora, servicios} = cita;\r\n  \r\n    // Heading para Servicios en Resumen\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'RESUMEN DE SERVICIOS';\r\n\r\n    resumen.appendChild(headingServicios);\r\n\r\n    // Iterando y Mostrando los Servicios\r\n    servicios.forEach(servicio => {\r\n        const { id, precio, nombre} = servicio;\r\n \r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P') ;\r\n        textoServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P') ;\r\n        precioServicio.innerHTML =  `<span>Precio:</span> $${precio} `;\r\n\r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n\r\n        resumen.appendChild(contenedorServicio);\r\n    })\r\n\r\n     // Heading para Cita en Resumen\r\n     const headingCita = document.createElement('H3');\r\n     headingCita.textContent = 'Resumen de Cita'; \r\n     resumen.appendChild(headingCita);\r\n\r\n         const nombreCliente = document.createElement('P');\r\n         nombreCliente.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n         // Formatear la Fecha en Español\r\n         const fechaObj = new Date(fecha);\r\n         const mes = fechaObj.getMonth();\r\n         const dia = fechaObj.getDate() + 2;\r\n         const year = fechaObj.getFullYear();\r\n\r\n         const fechaUTC = new Date(Date.UTC(year, mes, dia));\r\n\r\n         const opciones = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'}\r\n         const fechaFormateada = fechaUTC.toLocaleDateString('es-MX', opciones);\r\n         \r\n         const fechaCita = document.createElement('P');\r\n         fechaCita.innerHTML = `<span>Fecha:</span> ${fechaFormateada}`;\r\n\r\n         console.log(cita);\r\n\r\n         const horaCita = document.createElement('P');\r\n         horaCita.innerHTML = `<span>Hora:</span> ${hora} Horas`;\r\n\r\n    // Boton para Crear una Cita\r\n    const botonReservar = document.createElement('BUTTON');\r\n    botonReservar.classList.add('boton');\r\n    botonReservar.textContent = 'Reservar Cita';\r\n    botonReservar.onclick = reservarCita;    \r\n\r\n    resumen.appendChild(nombreCliente);\r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n\r\n    resumen.appendChild(botonReservar);\r\n\r\n }\r\n\r\n async function reservarCita() {\r\n\r\n   const { nombre, fecha, hora, servicios, id } = cita;\r\n\r\n    const idServicios = servicios.map(servicio => servicio.id);\r\n\r\n    // console.log(idSservicios);\r\n\r\n   const datos = new FormData();\r\n   datos.append('fecha', fecha);\r\n   datos.append('hora', hora);\r\n   datos.append('usuarioId', id);\r\n   datos.append('servicios', idServicios); \r\n   \r\n     // console.log([...datos]);\r\n   \r\n    try {\r\n         //Peticion hacia la API\r\n\r\n        const url ='/api/citas'\r\n\r\n        const respuesta = await fetch(url, {\r\n                method: 'POST',\r\n                body: datos\r\n        });\r\n\r\n        const resultado = await respuesta.json();\r\n        console.log(resultado.resultado);\r\n\r\n       console.log(resultado);\r\n\r\n        if(resultado.resultado) {\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Cita Creada\",\r\n                text: \"Tu Cita fue Creada Correctamente\",\r\n                button: 'OK'\r\n            }).then( () => {\r\n                    setTimeout(()=> {\r\n                        window.location.reload();\r\n                    }, 3000);              \r\n            }) \r\n        }\r\n\r\n    } catch (error) {\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"Hubo un Error al guardar la Cita\",            \r\n          });\r\n    }\r\n\r\n   \r\n      //  console.log([...datos]);\r\n\r\n }\r\n"]}